import{_ as e,c as t,o as a,a4 as o}from"./chunks/framework.BmdFiWrL.js";const g=JSON.parse('{"title":"NAT Traversal Configuration","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/nat.md","filePath":"en_US/guide/nat.md","lastUpdated":1733573772000}'),i={name:"en_US/guide/nat.md"},n=o('<h1 id="nat-traversal-configuration" tabindex="-1">NAT Traversal Configuration <a class="header-anchor" href="#nat-traversal-configuration" aria-label="Permalink to &quot;NAT Traversal Configuration&quot;">​</a></h1><p>Nezha Server Monitoring includes built-in NAT traversal capabilities, allowing users to expose internal services running on an Agent (such as home OpenWrt routers or NAS devices) to the public internet. This functionality facilitates remote access and is currently limited to supporting plain HTTP traversal.</p><h2 id="preparation" tabindex="-1">Preparation <a class="header-anchor" href="#preparation" aria-label="Permalink to &quot;Preparation&quot;">​</a></h2><p>Prior to configuring NAT traversal, please ensure the following preparatory steps are completed:</p><ul><li>Verify that the Nezha Monitoring Agent is installed and actively running on your device and maintains a stable connection with the Dashboard.</li><li>Acquire a public domain name, ideally using a subdomain configuration, such as <code>service-1.example.com</code>. Point this domain name to the public IP address of your Dashboard server.</li><li>It is important to note that each domain name can only map to the service of one Agent. For mapping services from multiple Agents, distinct domain names should be used, such as <code>service-2.example.com</code>.</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>If your Dashboard server uses tools like the aaPanel or similar management platforms, ensure that your domain (e.g., <code>service-1.example.com</code>) is correctly linked to the Dashboard site within these tools to avoid access issues.</p></div><h2 id="nat-traversal-configuration-steps" tabindex="-1">NAT Traversal Configuration Steps <a class="header-anchor" href="#nat-traversal-configuration-steps" aria-label="Permalink to &quot;NAT Traversal Configuration Steps&quot;">​</a></h2><ol><li>Log into the Dashboard Admin Panel and navigate to the &quot;NAT Traversal&quot; section in the menu.</li><li>Click the &quot;Add&quot; button and provide the following required details: <ul><li><strong>Name</strong>: Assign a custom name to this traversal setup, for example, <code>OpenWrt Login Page</code>.</li><li><strong>Agent ID</strong>: Input the ID of the Agent for which traversal is needed.</li><li><strong>Local service</strong>: Specify the internal service address that requires traversal, in the <code>IP:port</code> format, such as <code>127.0.0.1:80</code>.</li><li><strong>Bind hostname</strong>: Enter the previously configured public domain name, such as <code>service-1.example.com</code>. If a non-standard port is used by Dashboard (e.g. default <code>8008</code>), be sure to include it as well.</li></ul></li><li>After filling in the details, click the &quot;Add&quot; button and wait for the traversal setup to activate.</li><li>Test the configuration by accessing <code>http://service-1.example.com</code> to ensure the internal service on the Agent is successfully accessible.</li></ol><h2 id="usage-notes" tabindex="-1">Usage Notes <a class="header-anchor" href="#usage-notes" aria-label="Permalink to &quot;Usage Notes&quot;">​</a></h2><ul><li>Continuous connectivity between the Agent and the Dashboard is crucial for the NAT traversal functionality to operate correctly. If the connection to the Agent is lost, the traversal setup will temporarily cease to function.</li><li>Given that the NAT traversal does not encrypt traffic by itself, it is recommended to secure data transmissions by employing TLS/SSL between the Agent and the Dashboard, as well as between the Dashboard and the client browser, to ensure data security during transmission.</li></ul>',10),r=[n];function s(l,c,d,u,h,p){return a(),t("div",null,r)}const f=e(i,[["render",s]]);export{g as __pageData,f as default};
