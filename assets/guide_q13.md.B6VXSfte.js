import{_ as a,c as s,o as e,a4 as t}from"./chunks/framework.BmdFiWrL.js";const g=JSON.parse('{"title":"初始化用户密码","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/q13.md","filePath":"guide/q13.md","lastUpdated":1734220504000}'),i={name:"guide/q13.md"},h=t('<h1 id="初始化用户密码" tabindex="-1">初始化用户密码 <a class="header-anchor" href="#初始化用户密码" aria-label="Permalink to &quot;初始化用户密码&quot;">​</a></h1><p>当遗忘本地数据库中存储的用户密码时，无法直接找回明文密码，因为它已通过 <code>bcrypt</code> 加密。不过，可以通过重置功能创建一个原始用户，之后再修改密码为所需的密码。</p><hr><h2 id="操作步骤" tabindex="-1">操作步骤 <a class="header-anchor" href="#操作步骤" aria-label="Permalink to &quot;操作步骤&quot;">​</a></h2><h3 id="_1-停止-dashboard-服务" tabindex="-1">1. 停止 Dashboard 服务 <a class="header-anchor" href="#_1-停止-dashboard-服务" aria-label="Permalink to &quot;1. 停止 Dashboard 服务&quot;">​</a></h3><p>为了确保数据一致性和避免意外冲突，建议在修改数据库前先停止 Dashboard。</p><hr><h3 id="_2-找到数据库路径" tabindex="-1">2. 找到数据库路径 <a class="header-anchor" href="#_2-找到数据库路径" aria-label="Permalink to &quot;2. 找到数据库路径&quot;">​</a></h3><p>通常，数据库文件存放在以下位置：</p><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/opt/nezha/dashboard/data/sqlite.db</span></span></code></pre></div><hr><h3 id="_3-查询和清空用户表" tabindex="-1">3. 查询和清空用户表 <a class="header-anchor" href="#_3-查询和清空用户表" aria-label="Permalink to &quot;3. 查询和清空用户表&quot;">​</a></h3><p>使用 SQLite 命令行工具操作数据库：</p><ol><li><p><strong>查看现有用户</strong>： 运行以下命令查看用户表内容：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlite3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nezha/dashboard/data/sqlite.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;SELECT * FROM users;&quot;</span></span></code></pre></div><p>这将列出当前所有用户的记录。</p></li><li><p><strong>清空用户表</strong>： 如果您确认需要重置用户表，可运行以下命令清空：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqlite3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nezha/dashboard/data/sqlite.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;DELETE FROM users;&quot;</span></span></code></pre></div></li></ol><hr><h3 id="_4-重启-dashboard-服务" tabindex="-1">4. 重启 Dashboard 服务 <a class="header-anchor" href="#_4-重启-dashboard-服务" aria-label="Permalink to &quot;4. 重启 Dashboard 服务&quot;">​</a></h3><p>完成数据库操作后，重新启动 Dashboard.</p><hr><h3 id="_5-登录默认账户" tabindex="-1">5. 登录默认账户 <a class="header-anchor" href="#_5-登录默认账户" aria-label="Permalink to &quot;5. 登录默认账户&quot;">​</a></h3><p>Dashboard 在初始化时会自动检测用户表是否为空。如果为空，将自动插入默认用户。<br> 您可以使用以下默认账户登录：</p><ul><li><strong>用户名</strong>：<code>admin</code></li><li><strong>密码</strong>：<code>admin</code></li></ul><hr><h2 id="后续操作" tabindex="-1">后续操作 <a class="header-anchor" href="#后续操作" aria-label="Permalink to &quot;后续操作&quot;">​</a></h2><p>登录成功后，建议立即修改默认密码以提高安全性：</p><ol><li>点击 <strong>头像 → 个人信息</strong>。</li><li>选择 <strong>更新个人资料</strong>。</li><li>修改密码，建议设置一个复杂度较高的密码。</li></ol><hr><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li>修改数据库前，请确保已备份原始数据库文件：<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nezha/dashboard/data/sqlite.db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nezha/dashboard/data/sqlite.db.bak</span></span></code></pre></div></li><li><strong>谨慎操作</strong>：清空用户表将移除所有用户数据，包括管理员用户。确认后再执行。</li></ul>',28),l=[h];function o(d,n,r,p,c,b){return e(),s("div",null,l)}const k=a(i,[["render",o]]);export{g as __pageData,k as default};
