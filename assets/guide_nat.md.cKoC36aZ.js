import{_ as o,c as e,o as t,a4 as a}from"./chunks/framework.BmdFiWrL.js";const m=JSON.parse('{"title":"内网穿透功能配置","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/nat.md","filePath":"guide/nat.md","lastUpdated":1733818086000}'),r={name:"guide/nat.md"},l=a('<h1 id="内网穿透功能配置" tabindex="-1">内网穿透功能配置 <a class="header-anchor" href="#内网穿透功能配置" aria-label="Permalink to &quot;内网穿透功能配置&quot;">​</a></h1><p>哪吒服务器监控提供内置的内网穿透功能，允许用户通过设定 Dashboard 作为服务端，将运行在 Agent 上的内网服务（如家庭 OpenWrt 路由器、NAS 设备等）映射到公网，便于外部访问。目前仅支持明文 HTTP 的穿透。</p><h2 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h2><p>在配置内网穿透前，请确保完成以下准备工作：</p><ol><li><strong>安装并运行 Agent</strong>：确保目标设备已正确安装并运行哪吒监控的 Agent，且保持与 Dashboard 的连接状态。</li><li><strong>准备公网域名</strong>：建议使用子域名操作，例如 <code>service-1.example.com</code>，并解析至 Dashboard 服务器的公网 IP。</li><li><strong>一对一映射</strong>：每个域名只能映射一个 Agent 的内网服务。需要映射多个服务时，请分别使用不同域名，例如 <code>service-2.example.com</code>。</li></ol><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>如果使用宝塔面板或其他管理工具，请确保绑定的域名（如 <code>service-1.example.com</code>）已正确配置为指向 Dashboard 服务站点，否则可能导致无法访问。</p></div><hr><h2 id="配置步骤" tabindex="-1">配置步骤 <a class="header-anchor" href="#配置步骤" aria-label="Permalink to &quot;配置步骤&quot;">​</a></h2><ol><li><p><strong>登录 Dashboard 管理页面</strong><br> 在菜单栏中选择“内网穿透”选项，进入配置页面。</p></li><li><p><strong>添加穿透配置</strong><br> 点击“添加”按钮，填写以下信息：</p><ul><li><strong>名称</strong>：自定义配置名称，如 <code>OpenWrt 登录页</code>。</li><li><strong>服务器 ID</strong>：填写目标 Agent 的 ID。</li><li><strong>本地服务</strong>：填写需穿透的内网服务地址，格式为 <code>IP:端口</code>（如 <code>127.0.0.1:80</code>）。</li><li><strong>绑定域名</strong>：填写公网域名（如 <code>service-1.example.com</code>）。如果 Dashboard 使用非标准端口（如 <code>8008</code>），需手动添加端口。</li></ul></li><li><p><strong>保存配置</strong><br> 点击“新增”按钮，完成配置并等待穿透生效。</p></li><li><p><strong>验证穿透</strong><br> 在浏览器中访问 <code>http://service-1.example.com</code>，确认是否成功映射到目标内网服务。</p></li></ol><hr><h2 id="使用须知" tabindex="-1">使用须知 <a class="header-anchor" href="#使用须知" aria-label="Permalink to &quot;使用须知&quot;">​</a></h2><ol><li><p><strong>保持连接状态</strong><br> Agent 与 Dashboard 的持续连接是内网穿透功能正常运行的前提。如果连接中断，配置的穿透功能将暂时失效。</p></li><li><p><strong>安全注意事项</strong></p><ul><li>内网穿透隧道仅支持明文 HTTP 数据传输，无内置加密功能。</li><li>强烈建议在以下两处启用 TLS/SSL 以确保数据传输安全： <ul><li><strong>Agent 与 Dashboard 之间的通信</strong>。</li><li><strong>Dashboard 与外部访问客户端之间的通信</strong>。</li></ul></li></ul></li></ol><hr>',13),s=[l];function i(n,c,d,g,p,h){return t(),e("div",null,s)}const u=o(r,[["render",i]]);export{m as __pageData,u as default};
