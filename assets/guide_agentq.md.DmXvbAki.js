import{_ as a,c as e,o as t,a4 as n}from"./chunks/framework.BmdFiWrL.js";const b=JSON.parse('{"title":"Agent 常见问题","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/agentq.md","filePath":"guide/agentq.md","lastUpdated":1756917506000}'),s={name:"guide/agentq.md"},i=n('<h1 id="agent-常见问题" tabindex="-1">Agent 常见问题 <a class="header-anchor" href="#agent-常见问题" aria-label="Permalink to &quot;Agent 常见问题&quot;">​</a></h1><hr><h2 id="dashboard-搭建在只有-ipv6-的服务器上-使用-ipv6-地址-agent-该怎么使用-ipv6-连接面板" tabindex="-1">Dashboard 搭建在只有 IPv6 的服务器上 / 使用 IPv6 地址， Agent 该怎么使用 IPv6 连接面板？ <a class="header-anchor" href="#dashboard-搭建在只有-ipv6-的服务器上-使用-ipv6-地址-agent-该怎么使用-ipv6-连接面板" aria-label="Permalink to &quot;Dashboard 搭建在只有 IPv6 的服务器上 / 使用 IPv6 地址， Agent 该怎么使用 IPv6 连接面板？&quot;">​</a></h2><p>解决办法：</p><ol><li>修改<code>server</code>字段，例如 <code>&quot;[2606:4700:4700::1111]:8008&quot;</code></li><li>为 Dashboard 使用的域名添加 IPv6 解析（DNS AAAA 记录）</li></ol><hr><h2 id="后台显示的-ip-和-agent-实际-ip-不一致" tabindex="-1">后台显示的 IP 和 Agent 实际 IP 不一致？ <a class="header-anchor" href="#后台显示的-ip-和-agent-实际-ip-不一致" aria-label="Permalink to &quot;后台显示的 IP 和 Agent 实际 IP 不一致？&quot;">​</a></h2><p>如果后台显示的 IP 和 Agent 的实际 IP 不一致，请参考 <a href="/guide/dashboardq.html#为什么管理面板中显示的ip和agent实际ip不一致？">Dashboard 相关 - 为什么管理面板中显示的 IP 和 Agent 实际 IP 不一致？</a>。<br> 该问题的详细解决方法已在相关文档中说明，此处不再赘述。</p><hr><h2 id="一键脚本安装时出错" tabindex="-1">一键脚本安装时出错 <a class="header-anchor" href="#一键脚本安装时出错" aria-label="Permalink to &quot;一键脚本安装时出错&quot;">​</a></h2><h3 id="_1-curl-failed-to-connect-to-raw-githubusercontent-com" tabindex="-1">1. <code>curl: Failed to connect to raw.githubusercontent.com......</code> <a class="header-anchor" href="#_1-curl-failed-to-connect-to-raw-githubusercontent-com" aria-label="Permalink to &quot;1. `curl: Failed to connect to raw.githubusercontent.com......`&quot;">​</a></h3><p>此问题多发生在中国大陆的服务器上，原因是 Github 的连接不稳定。解决方法：</p><ol><li><strong>多次尝试</strong>：直接多尝试几次运行一键脚本。</li><li><strong>手动安装</strong>：按照 <a href="/guide/agent.html#其他方式安装agent">手动安装 Agent</a> 的指南完成安装。</li><li><strong>使用加速服务</strong>：可使用第三方 Github 加速服务或镜像。找到加速地址后，在一键安装脚本中进行替换。</li></ol><hr><h3 id="_2-sudo-command-not-found" tabindex="-1">2. <code>sudo: command not found</code> <a class="header-anchor" href="#_2-sudo-command-not-found" aria-label="Permalink to &quot;2. `sudo: command not found`&quot;">​</a></h3><p>如果提示 <code>sudo: command not found</code>，说明目标服务器未安装 <code>sudo</code> 工具。解决方法：</p><ol><li><strong>手动安装 sudo</strong>： <ul><li>对于 Ubuntu 系统，可以运行以下命令：<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span></span></code></pre></div></li><li>对于 CentOS 系统，可以运行以下命令：<div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sudo</span></span></code></pre></div></li></ul></li><li><strong>检查安装成功</strong>：安装完成后，再次运行一键脚本进行安装。</li></ol><hr><h2 id="agent-安装目录出现多个配置文件-系统被安装了多个-agent-服务" tabindex="-1">Agent 安装目录出现多个配置文件，系统被安装了多个 Agent 服务 <a class="header-anchor" href="#agent-安装目录出现多个配置文件-系统被安装了多个-agent-服务" aria-label="Permalink to &quot;Agent 安装目录出现多个配置文件，系统被安装了多个 Agent 服务&quot;">​</a></h2><p>为重复运行 Agent 安装脚本所致。Agent 支持根据不同的配置文件安装多个系统服务，故脚本不会覆盖安装而是会安装新的配置到系统服务。</p><p>可以使用 Agent 脚本的卸载功能清除所有配置文件和对应的服务：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./agent.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span></span></code></pre></div><hr><h2 id="agent-有-docker-镜像吗" tabindex="-1">Agent 有 Docker 镜像吗？ <a class="header-anchor" href="#agent-有-docker-镜像吗" aria-label="Permalink to &quot;Agent 有 Docker 镜像吗？&quot;">​</a></h2><p><strong>Agent 目前没有推出 Docker 镜像。</strong><br> Agent 的设计思路和 Dashboard 相反：Dashboard 的目标是尽量减少对宿主机的干扰，而 Agent 则需要深度与宿主机集成以执行监控服务和命令任务。</p><p>虽然将 Agent 放入容器中可以继续执行监控任务，但 WebShell 等功能将无法正常运行，因此官方不提供 Docker 镜像支持。</p>',26),o=[i];function l(d,r,h,c,g,p){return t(),e("div",null,o)}const k=a(s,[["render",l]]);export{b as __pageData,k as default};
