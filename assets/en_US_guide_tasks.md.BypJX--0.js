import{_ as e,c as t,o as a,a4 as o}from"./chunks/framework.BmdFiWrL.js";const p=JSON.parse('{"title":"Task Management","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/tasks.md","filePath":"en_US/guide/tasks.md","lastUpdated":1756917506000}'),s={name:"en_US/guide/tasks.md"},n=o('<h1 id="task-management" tabindex="-1">Task Management <a class="header-anchor" href="#task-management" aria-label="Permalink to &quot;Task Management&quot;">​</a></h1><p><strong>The Task Management section supports scheduling tasks, trigger-based tasks, and bulk execution across multiple servers.</strong><br> Nezha Monitoring enables pushing commands to Agents for execution, supporting diverse scenarios such as:</p><ul><li>Periodic backups using <code>restic</code> or <code>rclone</code>.</li><li>Scheduled service restarts to reset network connections.</li><li>Triggered tasks based on alert rules, e.g., running a script when CPU usage remains high for an extended period.</li></ul><hr><h2 id="how-to-use" tabindex="-1">How to Use <a class="header-anchor" href="#how-to-use" aria-label="Permalink to &quot;How to Use&quot;">​</a></h2><h3 id="adding-a-task" tabindex="-1">Adding a Task <a class="header-anchor" href="#adding-a-task" aria-label="Permalink to &quot;Adding a Task&quot;">​</a></h3><ol><li><p><strong>Access the Task Page</strong><br> Navigate to the <strong><code>Tasks</code></strong> page in the management panel and click the <strong><code>+</code></strong> button to add a new task.</p></li><li><p><strong>Configure Task Parameters</strong><br> When adding a task, the following parameters must be configured:</p><ul><li><strong>Name</strong>: Assign a custom name for easy identification and management.</li><li><strong>Task Type</strong>: <ul><li><strong>Scheduled Task</strong>: Executes periodically based on the specified schedule.</li><li><strong>Trigger Task</strong>: Executes only when triggered via API or notification rules, running once per trigger.</li></ul></li><li><strong>Schedule</strong>: Time schedule for task execution (only applies to scheduled tasks).<br> Format: <code>second minute hour day month weekday</code>.<br> Refer to the <a href="https://pkg.go.dev/github.com/robfig/cron/v3#hdr-CRON_Expression_Format" target="_blank" rel="noreferrer">CRON Expression Format</a> for details.<br> Example: <code>0 0 3 * * *</code> runs the task daily at 3:00 AM.</li><li><strong>Command</strong>: The command to execute. <ul><li>The command format follows standard Shell/Bat scripting. Use <code>&amp;&amp;</code> (Linux) or <code>&amp;</code> (Windows) to chain multiple commands.</li><li>Example: To reboot the server, enter <code>reboot</code>.</li></ul></li><li><strong>Coverage Scope</strong> and <strong>Specific Servers</strong>: Specify which Agents should execute the task: <ul><li>Select coverage rules or specific servers.</li><li>For trigger tasks, choose &quot;Execute on servers triggering the alert.&quot;</li></ul></li><li><strong>Notification Group</strong>: Select a notification method group configured in the <strong><code>Notifications</code></strong> page. See <a href="/en_US/guide/notifications.html#flexible-notification-methods">Notification Configuration</a> for details.</li></ul></li><li><p><strong>Submit Task</strong><br> After completing the configuration, click <strong><code>Submit</code></strong> to save the task.</p></li></ol><hr><h2 id="managing-tasks" tabindex="-1">Managing Tasks <a class="header-anchor" href="#managing-tasks" aria-label="Permalink to &quot;Managing Tasks&quot;">​</a></h2><p>To manage existing tasks:</p><ol><li>Go to the <strong><code>Tasks</code></strong> page and locate the desired task.</li><li>Use the icons on the right: <ul><li><strong>Execute Immediately</strong>: Bypasses the schedule and executes the task instantly.</li><li><strong>Edit</strong>: Modify the task configuration.</li><li><strong>Delete</strong>: Remove the task.</li></ul></li></ol><hr><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h2><h3 id="_1-command-not-found" tabindex="-1">1. <strong>Command Not Found</strong> <a class="header-anchor" href="#_1-command-not-found" aria-label="Permalink to &quot;1. **Command Not Found**&quot;">​</a></h3><ul><li>If execution fails with a &quot;command not found&quot; error, it is usually due to the PATH environment variable not being properly loaded.</li><li><strong>Solution</strong>: <ul><li>In Linux, prepend the command with <code>source ~/.bashrc</code>:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.bashrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">your_command</span></span></code></pre></div></li><li>Alternatively, use the command&#39;s absolute path (e.g., <code>/usr/bin/command</code>).</li></ul></li></ul>',15),i=[n];function r(l,d,c,g,h,u){return a(),t("div",null,i)}const k=e(s,[["render",r]]);export{p as __pageData,k as default};
