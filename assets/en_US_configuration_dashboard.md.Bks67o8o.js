import{_ as e,c as a,o as i,a4 as t}from"./chunks/framework.BmdFiWrL.js";const f=JSON.parse('{"title":"Dashboard Configuration","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/configuration/dashboard.md","filePath":"en_US/configuration/dashboard.md","lastUpdated":1756917506000}'),o={name:"en_US/configuration/dashboard.md"},l=t('<h1 id="dashboard-configuration" tabindex="-1">Dashboard Configuration <a class="header-anchor" href="#dashboard-configuration" aria-label="Permalink to &quot;Dashboard Configuration&quot;">​</a></h1><p>Dashboard configuration is in YAML format, where items marked with * can only be modified through the configuration file, while other configuration items are recommended to be modified through the admin frontend. See <a href="/en_US/guide/settings.html">Settings</a> for details.</p><hr><h2 id="options" tabindex="-1">Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;">​</a></h2><ul><li><h5 id="language" tabindex="-1"><strong><code>language</code></strong> <a class="header-anchor" href="#language" aria-label="Permalink to &quot;**`language`**&quot;">​</a></h5><ul><li>Language setting for Dashboard.</li><li>Requires filling in POSIX-style locale codes, such as <code>en_US</code>. For a list of supported languages, see <a href="https://hosted.weblate.org/projects/nezha/nezha-dashboard" target="_blank" rel="noreferrer">https://hosted.weblate.org/projects/nezha/nezha-dashboard</a>.</li></ul></li><li><h5 id="site-name" tabindex="-1"><strong><code>site_name</code></strong> <a class="header-anchor" href="#site-name" aria-label="Permalink to &quot;**`site_name`**&quot;">​</a></h5><ul><li>Site name, such as <code>Nezha</code>.</li></ul></li><li><h5 id="custom-code-custom-code-dashboard" tabindex="-1"><strong><code>custom_code / custom_code_dashboard</code></strong> <a class="header-anchor" href="#custom-code-custom-code-dashboard" aria-label="Permalink to &quot;**`custom_code / custom_code_dashboard`**&quot;">​</a></h5><ul><li>Custom code for the user frontend / management frontend.</li></ul></li><li><h5 id="install-host" tabindex="-1"><strong><code>install_host</code></strong> <a class="header-anchor" href="#install-host" aria-label="Permalink to &quot;**`install_host`**&quot;">​</a></h5><ul><li>Specifies the server address for the installation command, in the format <code>host:port</code>.</li><li>The actual effect of this option is implemented by the frontend, and Dashboard itself does not use it.</li></ul></li><li><h5 id="tls" tabindex="-1"><strong><code>tls</code></strong> <a class="header-anchor" href="#tls" aria-label="Permalink to &quot;**`tls`**&quot;">​</a></h5><ul><li>Boolean value, specifies whether the installation command enables TLS.</li><li>The actual effect of this option is implemented by the frontend, and Dashboard itself does not use it.</li></ul></li><li><h5 id="debug" tabindex="-1"><strong><code>debug</code></strong> * <a class="header-anchor" href="#debug" aria-label="Permalink to &quot;**`debug`** \\*&quot;">​</a></h5><ul><li>Boolean value, whether to turn on debug mode.</li><li>When enabled, additional database logs and error logs when some functions do not work properly will be displayed.</li><li>At the same time, WebSocket same-origin policy will allow connections from loopback addresses.</li></ul></li><li><h5 id="web-real-ip-header" tabindex="-1"><strong><code>web_real_ip_header</code></strong> <a class="header-anchor" href="#web-real-ip-header" aria-label="Permalink to &quot;**`web_real_ip_header`**&quot;">​</a></h5><ul><li>Specifies visitor&#39;s real IP request header for the Dashboard, such as <code>X-Real-Ip</code>.</li><li>After filling in, the built-in WAF will be automatically enabled, see <a href="/en_US/guide/settings.html#web-application-firewall">Web Application Firewall</a>.</li><li>If the option value is <code>NZ::Use-Peer-IP</code>, WAF will directly use the connection IP, and no longer need the upper-layer application to pass the request header.</li></ul></li><li><h5 id="agent-real-ip-header" tabindex="-1"><strong><code>agent_real_ip_header</code></strong> <a class="header-anchor" href="#agent-real-ip-header" aria-label="Permalink to &quot;**`agent_real_ip_header`**&quot;">​</a></h5><ul><li>Specifies Agent&#39;s real IP request header for the Dashboard, such as <code>X-Real-Ip</code>.</li><li>If the option value is <code>NZ::Use-Peer-IP</code>, Dashboard will directly use the connection IP, and no longer need the upper-layer application to pass the request header.</li></ul></li><li><h5 id="user-template-admin-template" tabindex="-1"><strong><code>user_template / admin_template</code></strong> <a class="header-anchor" href="#user-template-admin-template" aria-label="Permalink to &quot;**`user_template / admin_template`**&quot;">​</a></h5><ul><li>Default frontend theme used.</li><li>Only filling in the built-in theme path is supported, see <a href="https://github.com/nezhahq/nezha/blob/master/service/singleton/frontend-templates.yaml" target="_blank" rel="noreferrer">service/singleton/frontend-templates.yaml</a>.</li></ul></li><li><h5 id="location" tabindex="-1"><strong><code>location</code></strong> * <a class="header-anchor" href="#location" aria-label="Permalink to &quot;**`location`** \\*&quot;">​</a></h5><ul><li>Time zone used by the program, mainly affecting notifications and database queries.</li><li>Defaults to <code>Asia/Shanghai</code>.</li></ul></li><li><h5 id="force-auth" tabindex="-1"><strong><code>force_auth</code></strong> * <a class="header-anchor" href="#force-auth" aria-label="Permalink to &quot;**`force_auth`** \\*&quot;">​</a></h5><ul><li>Boolean value, whether to enable &quot;force authentication&quot;.</li><li>After enabling, you need to log in to view server and service monitoring related data.</li></ul></li><li><h5 id="agent-secret-key" tabindex="-1"><strong><code>agent_secret_key</code></strong> * <a class="header-anchor" href="#agent-secret-key" aria-label="Permalink to &quot;**`agent_secret_key`** \\*&quot;">​</a></h5><ul><li>Connection secret key for the Agent.</li><li>No longer used in newer versions, instead, the connection secret key is bound to the user, see <a href="/en_US/guide/user.html#connection-secret">Connection Secret</a>.</li></ul></li><li><h5 id="jwt-timeout" tabindex="-1"><strong><code>jwt_timeout</code></strong> * <a class="header-anchor" href="#jwt-timeout" aria-label="Permalink to &quot;**`jwt_timeout`** \\*&quot;">​</a></h5><ul><li>Integer, specifies the expiration time of JWT (hours).</li><li>The default value is <code>1</code>.</li></ul></li><li><h5 id="enable-plain-ip-in-notification" tabindex="-1"><strong><code>enable_plain_ip_in_notification</code></strong> <a class="header-anchor" href="#enable-plain-ip-in-notification" aria-label="Permalink to &quot;**`enable_plain_ip_in_notification`**&quot;">​</a></h5><ul><li>Boolean value, whether the notification sends the original IP.</li><li>The default is <code>false</code>, that is, send the desensitized IP (such as 1.**.1).</li></ul></li><li><h5 id="enable-ip-change-notification" tabindex="-1"><strong><code>enable_ip_change_notification</code></strong> <a class="header-anchor" href="#enable-ip-change-notification" aria-label="Permalink to &quot;**`enable_ip_change_notification`**&quot;">​</a></h5><ul><li>Boolean value, whether to enable IP change notification.</li></ul></li><li><h5 id="ip-change-notification-group-id" tabindex="-1"><strong><code>ip_change_notification_group_id</code></strong> <a class="header-anchor" href="#ip-change-notification-group-id" aria-label="Permalink to &quot;**`ip_change_notification_group_id`**&quot;">​</a></h5><ul><li>Integer, specifies the notification group for IP change notification.</li></ul></li><li><h5 id="cover" tabindex="-1"><strong><code>cover</code></strong> <a class="header-anchor" href="#cover" aria-label="Permalink to &quot;**`cover`**&quot;">​</a></h5><ul><li>Integer, specifies the coverage of IP change notification.</li><li><code>0</code> is full coverage, <code>1</code> is ignore all.</li></ul></li><li><h5 id="ignored-ip-notification" tabindex="-1"><strong><code>ignored_ip_notification</code></strong> <a class="header-anchor" href="#ignored-ip-notification" aria-label="Permalink to &quot;**`ignored_ip_notification`**&quot;">​</a></h5><ul><li>Specifies the server ID for IP change notification, if the coverage is full coverage, then exclude these servers, if it is ignore all, then only monitor these servers.</li><li>Separated by commas, such as <code>1,2,3</code>.</li></ul></li><li><h5 id="avg-ping-count" tabindex="-1"><strong><code>avg_ping_count</code></strong> * <a class="header-anchor" href="#avg-ping-count" aria-label="Permalink to &quot;**`avg_ping_count`** \\*&quot;">​</a></h5><ul><li>Integer, when the number of TCPing / ICMP Ping service data entries in memory reaches this value, the average value will be taken and written to the database.</li><li>The default is <code>2</code>, increasing this value can reduce the storage of the database.</li></ul></li><li><h5 id="dns-servers" tabindex="-1"><strong><code>dns_servers</code></strong> <a class="header-anchor" href="#dns-servers" aria-label="Permalink to &quot;**`dns_servers`**&quot;">​</a></h5><ul><li>List of DNS servers used by the DDNS module.</li><li>If not filled, the built-in list is used.</li></ul></li><li><h5 id="listen-port" tabindex="-1"><strong><code>listen_port</code></strong> * <a class="header-anchor" href="#listen-port" aria-label="Permalink to &quot;**`listen_port`** \\*&quot;">​</a></h5><ul><li>Dashboard listening port (HTTP).</li></ul></li><li><h5 id="listen-host" tabindex="-1"><strong><code>listen_host</code></strong> * <a class="header-anchor" href="#listen-host" aria-label="Permalink to &quot;**`listen_host`** \\*&quot;">​</a></h5><ul><li>Dashboard listening address.</li></ul></li><li><h5 id="oauth2" tabindex="-1"><strong><code>oauth2</code></strong> * <a class="header-anchor" href="#oauth2" aria-label="Permalink to &quot;**`oauth2`** \\*&quot;">​</a></h5><ul><li>OAuth 2.0 related configuration, see <a href="/en_US/guide/q14.html">Setting OAuth 2.0 Binding</a>.</li></ul></li><li><h5 id="https" tabindex="-1"><strong><code>https</code></strong> * <a class="header-anchor" href="#https" aria-label="Permalink to &quot;**`https`** \\*&quot;">​</a></h5><ul><li>HTTPS server configuration.</li><li>The following fields need to be filled in: <ul><li><code>listen_port</code>: Listening port</li><li><code>tls_cert_path</code>: TLS certificate path</li><li><code>tls_key_path</code>: TLS certificate private key path</li><li><code>insecure_tls</code>: Boolean value, whether to turn off certificate integrity check</li></ul></li></ul></li></ul><hr><h2 id="apply-config" tabindex="-1">Apply Config <a class="header-anchor" href="#apply-config" aria-label="Permalink to &quot;Apply Config&quot;">​</a></h2><p>After modifying the configuration file, you need to manually restart the Dashboard to apply the changes. The restart methods for different installation methods are different, as follows:</p><h3 id="docker-installation" tabindex="-1">Docker Installation <a class="header-anchor" href="#docker-installation" aria-label="Permalink to &quot;Docker Installation&quot;">​</a></h3><p>You can directly restart the Docker container:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nezha-dashboard</span></span></code></pre></div><p>Or recreate the container:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nezha/dashboard</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> down</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><h3 id="standalone-installation" tabindex="-1">Standalone Installation <a class="header-anchor" href="#standalone-installation" aria-label="Permalink to &quot;Standalone Installation&quot;">​</a></h3><p>Taking <code>systemd</code> as an example:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nezha-dashboard.service</span></span></code></pre></div>',16),n=[l];function s(r,h,d,c,u,p){return i(),a("div",null,n)}const b=e(o,[["render",s]]);export{f as __pageData,b as default};
