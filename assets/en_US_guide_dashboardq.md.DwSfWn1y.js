import{_ as e,c as a,o as s,a4 as i}from"./chunks/framework.BmdFiWrL.js";const b=JSON.parse('{"title":"Dashboard FAQ","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/dashboardq.md","filePath":"en_US/guide/dashboardq.md","lastUpdated":1734258434000}'),t={name:"en_US/guide/dashboardq.md"},n=i(`<h1 id="dashboard-faq" tabindex="-1">Dashboard FAQ <a class="header-anchor" href="#dashboard-faq" aria-label="Permalink to &quot;Dashboard FAQ&quot;">​</a></h1><hr><h2 id="why-is-the-ip-displayed-in-the-dashboard-different-from-the-agent-s-actual-ip" tabindex="-1">Why is the IP displayed in the Dashboard different from the Agent&#39;s actual IP? <a class="header-anchor" href="#why-is-the-ip-displayed-in-the-dashboard-different-from-the-agent-s-actual-ip" aria-label="Permalink to &quot;Why is the IP displayed in the Dashboard different from the Agent&#39;s actual IP?&quot;">​</a></h2><p>The IP displayed in the Dashboard is the outbound IP detected and reported by the Agent using <a href="https://github.com/nezhahq/agent/blob/main/pkg/monitor/myip.go" target="_blank" rel="noreferrer">IP-API</a>.<br> If the displayed IP differs from the one provided by your service provider, possible reasons include:</p><ol><li><strong>Service Provider Uses an Inbound IP</strong>: The IP provided by your service provider might be a high-defense or mapped inbound IP rather than the actual outbound IP.</li><li><strong>Multi-line or Dedicated Line Environments</strong>: Multi-line servers or IPLC dedicated lines may cause discrepancies in outbound IPs.</li></ol><h3 id="verify-the-outbound-ip" tabindex="-1">Verify the Outbound IP <a class="header-anchor" href="#verify-the-outbound-ip" aria-label="Permalink to &quot;Verify the Outbound IP&quot;">​</a></h3><p>Run the following commands on the Agent server to test the outbound IP:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://ipapi.co/ip/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip.sb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ip-api.com</span></span></code></pre></div><hr><h2 id="dashboard-installation-restart-update-fails-with-iptables" tabindex="-1">Dashboard Installation/Restart/Update Fails with: <code>iptables ......</code> <a class="header-anchor" href="#dashboard-installation-restart-update-fails-with-iptables" aria-label="Permalink to &quot;Dashboard Installation/Restart/Update Fails with: \`iptables ......\`&quot;">​</a></h2><ol><li><p><strong>Restart Docker</strong><br> Run the following commands to restart Docker:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre></div></li><li><p><strong>Disable or Remove iptables</strong><br> If the issue persists, try disabling or removing <code>iptables</code>.</p></li><li><p><strong>Switch to an Official Kernel</strong><br> Some issues might be related to the kernel. Switching to the official kernel could help resolve the problem.</p></li></ol><hr><h2 id="dashboard-layout-errors-or-missing-css-resources" tabindex="-1">Dashboard Layout Errors or Missing CSS Resources <a class="header-anchor" href="#dashboard-layout-errors-or-missing-css-resources" aria-label="Permalink to &quot;Dashboard Layout Errors or Missing CSS Resources&quot;">​</a></h2><p>This is typically caused by missing or inaccessible CSS files. Solutions:</p><ol><li><p><strong>Restart and Update the Dashboard</strong><br> Use the one-click script and select <code>Update Dashboard</code>.</p></li><li><p><strong>Check Nginx Configuration</strong><br> If the issue persists, check and modify the Nginx vhost configuration:</p><ul><li>Remove the following section:<div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .*\\.(js|css)?$</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        expires </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     12h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        error_log </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/dev/null;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        access_log </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/dev/null;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span></code></pre></div></li><li>Save the configuration and clear the cache for the browser, Nginx, and CDN.</li></ul></li><li><p><strong>Refresh the Page</strong><br> The layout should return to normal.</p></li></ol><hr><h2 id="dashboard-fails-to-start-panic-unable-to-find-configured-ddns-provider" tabindex="-1">Dashboard Fails to Start: <code>panic: unable to find configured DDNS provider...</code> <a class="header-anchor" href="#dashboard-fails-to-start-panic-unable-to-find-configured-ddns-provider" aria-label="Permalink to &quot;Dashboard Fails to Start: \`panic: unable to find configured DDNS provider...\`&quot;">​</a></h2><p>The DDNS provider is misconfigured. Supported values include: <code>webhook</code>, <code>cloudflare</code>, <code>tencentcloud</code>, and <code>dummy</code>. Verify and correct the configuration.</p><hr><h2 id="dashboard-ddns-update-crash-panic-interface-conversion-interface-is-nil-not-interface" tabindex="-1">Dashboard DDNS Update Crash: <code>panic: interface conversion: interface {} is nil, not []interface {}</code> <a class="header-anchor" href="#dashboard-ddns-update-crash-panic-interface-conversion-interface-is-nil-not-interface" aria-label="Permalink to &quot;Dashboard DDNS Update Crash: \`panic: interface conversion: interface {} is nil, not []interface {}\`&quot;">​</a></h2><p>The DDNS <code>AccessID</code> or <code>AccessSecret</code> is incorrect. Double-check and correct the values.</p><hr><h2 id="dashboard-warning-nezha-invalid-service-monitoring-report" tabindex="-1">Dashboard Warning: <code>NEZHA&gt;&gt; Invalid service monitoring report...</code> <a class="header-anchor" href="#dashboard-warning-nezha-invalid-service-monitoring-report" aria-label="Permalink to &quot;Dashboard Warning: \`NEZHA&gt;&gt; Invalid service monitoring report...\`&quot;">​</a></h2><p>This issue usually arises from version mismatches between the Dashboard and Agent.<br><strong>Solution</strong>: Update both the Dashboard and Agent to the latest versions.</p><hr><h2 id="server-network-monitoring-page-displays-empty" tabindex="-1">Server Network Monitoring Page Displays Empty <a class="header-anchor" href="#server-network-monitoring-page-displays-empty" aria-label="Permalink to &quot;Server Network Monitoring Page Displays Empty&quot;">​</a></h2><p>This error indicates:</p><ol><li><code>TCP-Ping</code> or <code>ICMP-Ping</code> monitoring has not been configured in the Services page.</li><li>Monitoring data has not yet been generated.<br><strong>Solution</strong>: Complete the configuration and wait for some time before checking the data.</li></ol><hr><h2 id="terminal-or-ws-not-working-after-enabling-https" tabindex="-1"><code>/terminal</code> or <code>/ws</code> Not Working After Enabling HTTPS <a class="header-anchor" href="#terminal-or-ws-not-working-after-enabling-https" aria-label="Permalink to &quot;\`/terminal\` or \`/ws\` Not Working After Enabling HTTPS&quot;">​</a></h2><p>This issue is often caused by incomplete certificates:</p><ol><li>Check the logs for the following error:<div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>x509: certificate signed by unknown authority</span></span></code></pre></div></li><li>If this error appears, replace the certificate with a complete one to resolve the issue.</li></ol><hr><h2 id="data-modification-or-feature-extensions" tabindex="-1">Data Modification or Feature Extensions <a class="header-anchor" href="#data-modification-or-feature-extensions" aria-label="Permalink to &quot;Data Modification or Feature Extensions&quot;">​</a></h2><p>If you need to modify Dashboard data (e.g., batch creation of Agents), you can operate directly on the database.</p><h3 id="caution" tabindex="-1">Caution: <a class="header-anchor" href="#caution" aria-label="Permalink to &quot;Caution:&quot;">​</a></h3><ul><li>The database is <code>sqlite3</code> and is located at <code>/opt/nezha/dashboard/data/sqlite.db</code>.</li><li>Always back up the database before making changes.</li><li>Stop the Dashboard container before making changes.</li></ul><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>Do not modify the database carelessly! Incorrect changes may corrupt data or prevent the Dashboard from starting.</p></div><hr><h2 id="does-the-dashboard-update-automatically" tabindex="-1">Does the Dashboard Update Automatically? <a class="header-anchor" href="#does-the-dashboard-update-automatically" aria-label="Permalink to &quot;Does the Dashboard Update Automatically?&quot;">​</a></h2><p>The Dashboard does not update automatically. Updates must be performed manually using the script.<br> Agents, by default, update automatically.</p><hr><h2 id="error-agent-signaling-dispatch-failed-when-connecting-to-the-online-terminal" tabindex="-1">Error: <code>Agent signaling dispatch failed</code> when connecting to the Online Terminal <a class="header-anchor" href="#error-agent-signaling-dispatch-failed-when-connecting-to-the-online-terminal" aria-label="Permalink to &quot;Error: \`Agent signaling dispatch failed\` when connecting to the Online Terminal&quot;">​</a></h2><p>This issue may be caused by:</p><ol><li><strong>Agent Offline</strong>: Check if the Agent is running normally.</li><li><strong>Unstable Connection</strong>: Ensure the connection between the Agent and Dashboard is stable, and troubleshoot any network issues.</li></ol><hr><h2 id="error-you-have-not-specify-the-installed-host-when-copying-installation-commands" tabindex="-1">Error: <code>You have not specify the installed host.</code> when Copying Installation Commands <a class="header-anchor" href="#error-you-have-not-specify-the-installed-host-when-copying-installation-commands" aria-label="Permalink to &quot;Error: \`You have not specify the installed host.\` when Copying Installation Commands&quot;">​</a></h2><h3 id="cause" tabindex="-1">Cause <a class="header-anchor" href="#cause" aria-label="Permalink to &quot;Cause&quot;">​</a></h3><p>This error occurs if the <strong><code>Dashboard Server Domain/IP (without CDN)</code></strong> field is not configured in the settings.<br> This configuration is required to generate the installation commands correctly.</p><h3 id="solution" tabindex="-1">Solution <a class="header-anchor" href="#solution" aria-label="Permalink to &quot;Solution&quot;">​</a></h3><ol><li><p><strong>Go to Settings</strong><br> Log in to the Dashboard, click on the avatar in the top-right corner, and select <strong><code>System Settings</code></strong>.</p></li><li><p><strong>Configure the Server Domain/IP</strong><br> In the <strong><code>Dashboard Server Domain/IP (without CDN)</code></strong> field, enter your server&#39;s domain or IP address.<br> Example:</p><ul><li><strong>Domain</strong>: <code>data.example.com</code></li><li><strong>IP</strong>: <code>123.123.123.123</code></li></ul></li><li><p><strong>Save Settings</strong><br> After configuring, save the settings and return to the installation commands page. Copy the commands again.</p></li></ol><hr><h2 id="file-manager-upload-download-freezes" tabindex="-1">File Manager Upload/Download Freezes <a class="header-anchor" href="#file-manager-upload-download-freezes" aria-label="Permalink to &quot;File Manager Upload/Download Freezes&quot;">​</a></h2><h3 id="cause-1" tabindex="-1">Cause <a class="header-anchor" href="#cause-1" aria-label="Permalink to &quot;Cause&quot;">​</a></h3><ol><li><p><strong>Buffer Size Issue</strong><br> File Manager (FM) sends data in 1 MiB chunks. If the proxy&#39;s buffer size is smaller than 1 MiB, transfers may freeze.</p></li><li><p><strong>CDN Performance Impact</strong><br> Using a CDN can significantly degrade performance or cause freezes during transfers.</p></li></ol><h3 id="solution-1" tabindex="-1">Solution <a class="header-anchor" href="#solution-1" aria-label="Permalink to &quot;Solution&quot;">​</a></h3><h4 id="_1-adjust-proxy-buffer-size" tabindex="-1">1. Adjust Proxy Buffer Size <a class="header-anchor" href="#_1-adjust-proxy-buffer-size" aria-label="Permalink to &quot;1. Adjust Proxy Buffer Size&quot;">​</a></h4><p>For common proxies like Nginx and Caddy, ensure the buffer size is set to at least 1 MiB:</p><p><strong>Nginx Example</strong>:</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_buffer_size </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_buffers </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">proxy_busy_buffers_size </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>Reload the configuration:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reload</span></span></code></pre></div><p><strong>Caddy Example</strong>:</p><div class="language-caddy vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">caddy</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>reverse_proxy {</span></span>
<span class="line"><span>    transport http {</span></span>
<span class="line"><span>        read_buffer 2MB</span></span>
<span class="line"><span>        write_buffer 2MB</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>Restart the Caddy service after saving the configuration.</p><h4 id="_2-direct-connection" tabindex="-1">2. Direct Connection <a class="header-anchor" href="#_2-direct-connection" aria-label="Permalink to &quot;2. Direct Connection&quot;">​</a></h4><p>Bypass the CDN and connect directly to the origin server for file transfers. Ensure the connection points directly to the server&#39;s IP or domain and is stable.</p><hr><h2 id="unable-to-connect-agent-with-nginx-reverse-proxy-for-grpc" tabindex="-1">Unable to Connect Agent with Nginx Reverse Proxy for gRPC <a class="header-anchor" href="#unable-to-connect-agent-with-nginx-reverse-proxy-for-grpc" aria-label="Permalink to &quot;Unable to Connect Agent with Nginx Reverse Proxy for gRPC&quot;">​</a></h2><h3 id="cause-2" tabindex="-1">Cause <a class="header-anchor" href="#cause-2" aria-label="Permalink to &quot;Cause&quot;">​</a></h3><p>By default, Nginx does not allow underscores in headers. The Agent uses <code>client_secret</code> and <code>client_uuid</code> headers for authentication.</p><h3 id="solution-2" tabindex="-1">Solution <a class="header-anchor" href="#solution-2" aria-label="Permalink to &quot;Solution&quot;">​</a></h3><ol><li><p><strong>Enable Underscores</strong><br> Add the following directive in the server block:</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">underscores_in_headers </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></li><li><p><strong>Manually Forward Headers</strong><br> Include the following configuration in the gRPC reverse proxy setup:</p><div class="language-nginx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">grpc_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client_secret $http_client_secret;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">grpc_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">client_uuid $http_client_uuid;</span></span></code></pre></div></li></ol>`,73),o=[n];function r(l,h,d,c,p,g){return s(),a("div",null,o)}const k=e(t,[["render",r]]);export{b as __pageData,k as default};
