import{_ as e,c as a,o as t,a4 as o}from"./chunks/framework.BmdFiWrL.js";const b=JSON.parse('{"title":"Frontend Real IP Header Configuration","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/q12.md","filePath":"en_US/guide/q12.md","lastUpdated":1756934130000}'),i={name:"en_US/guide/q12.md"},n=o('<h1 id="frontend-real-ip-header-configuration" tabindex="-1">Frontend Real IP Header Configuration <a class="header-anchor" href="#frontend-real-ip-header-configuration" aria-label="Permalink to &quot;Frontend Real IP Header Configuration&quot;">​</a></h1><p>With the introduction of local account mechanisms in V1, accurate retrieval of the client’s real IP address is essential to prevent brute-force attacks on login endpoints (Web Application Firewall functionality).<br> This feature can be managed via <strong><code>/dashboard/settings/waf</code></strong>.</p><hr><h2 id="configuration-scenarios" tabindex="-1">Configuration Scenarios <a class="header-anchor" href="#configuration-scenarios" aria-label="Permalink to &quot;Configuration Scenarios&quot;">​</a></h2><p>Depending on how the service is deployed, there are two primary configuration scenarios:</p><h3 id="_1-direct-public-access-to-the-dashboard" tabindex="-1">1. Direct Public Access to the Dashboard <a class="header-anchor" href="#_1-direct-public-access-to-the-dashboard" aria-label="Permalink to &quot;1. Direct Public Access to the Dashboard&quot;">​</a></h3><ul><li>Enable <strong><code>Use Direct IP</code></strong> in the settings. No additional configuration is required.</li></ul><hr><h3 id="_2-deployment-behind-a-web-proxy-or-cdn" tabindex="-1">2. Deployment Behind a Web Proxy or CDN <a class="header-anchor" href="#_2-deployment-behind-a-web-proxy-or-cdn" aria-label="Permalink to &quot;2. Deployment Behind a Web Proxy or CDN&quot;">​</a></h3><ul><li>Refer to the <a href="/en_US/guide/q3.html">Reverse Proxy Configuration</a> documentation.</li><li>The configuration examples utilize the <code>nz-realip</code> header for transmitting client IP addresses. You can either use this default header or define your own.</li><li>Ensure the proxy server is correctly set up to include the client IP in the custom header and forward it to the Dashboard.</li></ul><hr><h2 id="common-issues" tabindex="-1">Common Issues <a class="header-anchor" href="#common-issues" aria-label="Permalink to &quot;Common Issues&quot;">​</a></h2><h3 id="q1-what-if-a-configuration-error-causes-the-dashboard-to-be-inaccessible-or-agents-to-disconnect" tabindex="-1">Q1: What if a configuration error causes the Dashboard to be inaccessible or agents to disconnect? <a class="header-anchor" href="#q1-what-if-a-configuration-error-causes-the-dashboard-to-be-inaccessible-or-agents-to-disconnect" aria-label="Permalink to &quot;Q1: What if a configuration error causes the Dashboard to be inaccessible or agents to disconnect?&quot;">​</a></h3><ol><li><p>Modify the Dashboard configuration file:<br> Locate the configuration file at <code>/data/config.yaml</code> and update the following entry:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">realipheader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span></code></pre></div><p>Set the <code>realipheader</code> value to an empty string (<code>&quot;&quot;</code>), save, and exit.</p></li><li><p>Restart the Dashboard service.</p></li><li><p>Access the Dashboard again and verify if the connection is restored.</p></li></ol>',14),r=[n];function s(c,d,l,h,u,p){return t(),a("div",null,r)}const g=e(i,[["render",s]]);export{b as __pageData,g as default};
