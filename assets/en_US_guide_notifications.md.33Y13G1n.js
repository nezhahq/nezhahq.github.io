import{_ as i,c as s,o as t,a4 as a}from"./chunks/framework.BmdFiWrL.js";const u=JSON.parse('{"title":"Notification Settings","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"en_US/guide/notifications.md","filePath":"en_US/guide/notifications.md","lastUpdated":1740049170000}'),e={name:"en_US/guide/notifications.md"},n=a(`<h1 id="notification-settings" tabindex="-1">Notification Settings <a class="header-anchor" href="#notification-settings" aria-label="Permalink to &quot;Notification Settings&quot;">​</a></h1><p>Nezha Monitoring supports monitoring server metrics such as load, CPU, memory, disk, bandwidth, monthly traffic, process count, and connections. Notifications are triggered when user-defined thresholds are reached.</p><hr><h2 id="flexible-notification-methods" tabindex="-1">Flexible Notification Methods <a class="header-anchor" href="#flexible-notification-methods" aria-label="Permalink to &quot;Flexible Notification Methods&quot;">​</a></h2><ul><li><p><strong>Message Placeholders</strong>:</p><ul><li><code>#DATETIME#</code>: Represents the event timestamp, automatically replaced with the actual time when a notification is triggered.</li><li><code>#NEZHA#</code>: A placeholder for notification content, replaced with the actual message.</li></ul></li><li><p><strong>Request Body Formats</strong>:</p><ul><li>For <strong>FORM</strong> requests, use <code>key:value</code> pairs, with placeholders in <code>value</code> replaced dynamically.</li><li>For <strong>JSON</strong> requests, strings are replaced before submission to the <code>URL</code>.</li></ul></li><li><p><strong>URL Placeholders</strong>: Placeholders in the URL are replaced with corresponding values during the request.</p></li></ul><p><strong>Refer to the examples below or customize notification methods based on your needs.</strong></p><hr><h3 id="supported-placeholders" tabindex="-1">Supported Placeholders <a class="header-anchor" href="#supported-placeholders" aria-label="Permalink to &quot;Supported Placeholders&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Placeholder</th><th>Description</th></tr></thead><tbody><tr><td><code>#NEZHA#</code></td><td>Notification content</td></tr><tr><td><code>#SERVER.NAME#</code></td><td>Server name</td></tr><tr><td><code>#SERVER.IP#</code></td><td>Server IP address</td></tr><tr><td><code>#SERVER.IPV4#</code></td><td>Server IPv4 address</td></tr><tr><td><code>#SERVER.IPV6#</code></td><td>Server IPv6 address</td></tr><tr><td><code>#SERVER.CPU#</code></td><td>CPU usage rate</td></tr><tr><td><code>#SERVER.MEM#</code></td><td>Memory usage rate</td></tr><tr><td><code>#SERVER.SWAP#</code></td><td>Swap usage rate</td></tr><tr><td><code>#SERVER.DISK#</code></td><td>Disk usage rate</td></tr><tr><td><code>#SERVER.NETINSPEED#</code></td><td>Real-time inbound speed</td></tr><tr><td><code>#SERVER.NETOUTSPEED#</code></td><td>Real-time outbound speed</td></tr><tr><td><code>#SERVER.TRANSFERIN#</code></td><td>Total inbound traffic</td></tr><tr><td><code>#SERVER.TRANSFEROUT#</code></td><td>Total outbound traffic</td></tr><tr><td><code>#SERVER.LOAD1#</code></td><td>1-minute load average</td></tr><tr><td><code>#SERVER.LOAD5#</code></td><td>5-minute load average</td></tr><tr><td><code>#SERVER.LOAD15#</code></td><td>15-minute load average</td></tr></tbody></table><hr><h3 id="bark-example" tabindex="-1">Bark Example <a class="header-anchor" href="#bark-example" aria-label="Permalink to &quot;Bark Example&quot;">​</a></h3><details><summary>Expand/Collapse</summary><ul><li><strong>Name</strong>: Bark</li><li><strong>URL Composition</strong>: <ul><li>GET Requests: <code>/:key/:body</code>, <code>/:key/:title/:body</code>, or <code>/:key/:category/:title/:body</code></li><li>POST Requests: <code>/push</code></li></ul></li><li><strong>Request Method</strong>: GET or POST</li><li><strong>Request Type</strong>: <ul><li>GET: Default</li><li>POST: <code>form</code></li></ul></li><li><strong>Body</strong> (POST Example):<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#SERVER.NAME#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;device_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xxxxxxxxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#NEZHA#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://xxxxxxxx/nz.png&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul></details><hr><h3 id="slack-example-contributed-by-cantoblanco" tabindex="-1">Slack Example (Contributed by <a href="https://github.com/cantoblanco" target="_blank" rel="noreferrer">@cantoblanco</a>) <a class="header-anchor" href="#slack-example-contributed-by-cantoblanco" aria-label="Permalink to &quot;Slack Example (Contributed by [@cantoblanco](https://github.com/cantoblanco))&quot;">​</a></h3><details><summary>Expand/Collapse</summary><h4 id="url-parameter-setup" tabindex="-1">URL Parameter Setup <a class="header-anchor" href="#url-parameter-setup" aria-label="Permalink to &quot;URL Parameter Setup&quot;">​</a></h4><ol><li><strong>Create a Slack App</strong>: Visit <a href="https://api.slack.com/apps" target="_blank" rel="noreferrer">Slack API</a> and create a new App.</li><li><strong>Enable Incoming Webhook</strong>: Add and activate Incoming Webhooks on the App&#39;s settings page.</li><li><strong>Generate Webhook URL</strong>: Add a new webhook to a workspace, select a channel, and authorize. Copy the generated URL.</li></ol><p><strong>Notification Configuration:</strong></p><ul><li><strong>Name</strong>: Slack</li><li><strong>URL</strong>: <code>https://hooks.slack.com/services/XXXXXXXXX/XXXXXXXXX/XXXXXXXXXXXXXXXXXXXXXXXX</code></li><li><strong>Request Method</strong>: POST</li><li><strong>Request Type</strong>: JSON</li><li><strong>Body</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#NEZHA#&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul></details><hr><h3 id="telegram-example-contributed-by-cantoblanco" tabindex="-1">Telegram Example (Contributed by <a href="https://github.com/cantoblanco" target="_blank" rel="noreferrer">@cantoblanco</a>) <a class="header-anchor" href="#telegram-example-contributed-by-cantoblanco" aria-label="Permalink to &quot;Telegram Example (Contributed by [@cantoblanco](https://github.com/cantoblanco))&quot;">​</a></h3><details><summary>Expand/Collapse</summary><h4 id="url-parameter-setup-1" tabindex="-1">URL Parameter Setup <a class="header-anchor" href="#url-parameter-setup-1" aria-label="Permalink to &quot;URL Parameter Setup&quot;">​</a></h4><ol><li><strong>Create a Bot</strong>: Use <a href="https://t.me/BotFather" target="_blank" rel="noreferrer">@BotFather</a> to create a bot and get its token.</li><li><strong>Retrieve User ID</strong>: Use <a href="https://t.me/userinfobot" target="_blank" rel="noreferrer">@userinfobot</a> to find your user ID.</li><li><strong>Send a Test Message</strong>: Send a message to your bot to activate communication.</li></ol><p><strong>Notification Configuration:</strong></p><ul><li><strong>Name</strong>: Telegram</li><li><strong>URL</strong>: <code>https://api.telegram.org/bot&lt;Your_Bot_Token&gt;/sendMessage?chat_id=&lt;Your_User_ID&gt;&amp;text=#NEZHA#</code></li><li><strong>Request Method</strong>: GET</li><li><strong>Request Type</strong>: Default</li><li><strong>Body</strong>: None</li></ul><p><strong>Note</strong>: Replace <code>&lt;Your_Bot_Token&gt;</code> and <code>&lt;Your_User_ID&gt;</code> with actual values.</p></details><hr><h3 id="matrix-notification-example" tabindex="-1">Matrix Notification Example <a class="header-anchor" href="#matrix-notification-example" aria-label="Permalink to &quot;Matrix Notification Example&quot;">​</a></h3><details><summary>Click to Expand/Collapse</summary><h4 id="parameter-description" tabindex="-1">Parameter Description <a class="header-anchor" href="#parameter-description" aria-label="Permalink to &quot;Parameter Description&quot;">​</a></h4><ul><li><strong>Variable Replacement</strong>: Replace the following variables with actual values: <ul><li><code>$YOUR_HOME_SERVER</code>: Address of your Matrix server.</li><li><code>$YOUR_NEZHA_URL</code>: URL of your Nezha Dashboard.</li><li><code>$YOUR_MATRIX_USERNAME</code>: Your Matrix username.</li><li><code>$YOUR_MATRIX_PASSWD</code>: Your Matrix password.</li><li><code>$YOUR_MATRIX_TOKEN</code>: Matrix access token.</li><li><code>$ROOM_ID</code>: ID of the Matrix room where notifications will be sent.</li></ul></li></ul><hr><h4 id="retrieve-access-token" tabindex="-1">Retrieve Access Token <a class="header-anchor" href="#retrieve-access-token" aria-label="Permalink to &quot;Retrieve Access Token&quot;">​</a></h4><p>Use the following command to obtain <code>YOUR_MATRIX_TOKEN</code>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -XPOST</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;type&quot;: &quot;m.login.password&quot;, &quot;identifier&quot;: {&quot;user&quot;: &quot;$YOUR_MATRIX_USERNAME&quot;, &quot;type&quot;: &quot;m.id.user&quot;}, &quot;password&quot;: &quot;$YOUR_MATRIX_PASSWD&quot;}&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$YOUR_HOME_SERVER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/_matrix/client/r0/login&quot;</span></span></code></pre></div><hr><h4 id="notification-configuration" tabindex="-1">Notification Configuration <a class="header-anchor" href="#notification-configuration" aria-label="Permalink to &quot;Notification Configuration&quot;">​</a></h4><ul><li><strong>Name</strong>: Matrix</li><li><strong>URL</strong>: <code>https://$YOUR_HOME_SERVER/_matrix/client/r0/rooms/$ROOM_ID/send/m.room.message</code></li><li><strong>Request Method</strong>: <code>POST</code></li><li><strong>Request Type</strong>: <code>JSON</code></li><li><strong>Headers</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;Authorization&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bearer $YOUR_MATRIX_TOKEN&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><strong>Body</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;msgtype&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m.text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;format&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;org.matrix.custom.html&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;formatted_body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;h1&gt;&lt;a href=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$YOUR_NEZHA_URL</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> target=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_blank</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&gt;Nezha Dashboard&lt;/a&gt;&lt;/h1&gt;&lt;ul&gt;&lt;li&gt;Time: #DATETIME#&lt;/li&gt;&lt;li&gt;Message: #NEZHA#&lt;/li&gt;&lt;/ul&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;body&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#NEZHA#&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><hr><h3 id="steps-to-use" tabindex="-1">Steps to Use <a class="header-anchor" href="#steps-to-use" aria-label="Permalink to &quot;Steps to Use&quot;">​</a></h3><ol><li><strong>Replace Variables</strong>: Replace all <code>$</code> prefixed variables with your actual values.</li><li><strong>Obtain Token</strong>: Use the command above to retrieve <code>YOUR_MATRIX_TOKEN</code>.</li><li><strong>Configure Request</strong>: Fill in the URL, Headers, and Body as described.</li><li><strong>Send Notifications</strong>: The configured notification will be sent to the specified Matrix room.</li></ol></details><hr><h1 id="alert-rule-configuration" tabindex="-1">Alert Rule Configuration <a class="header-anchor" href="#alert-rule-configuration" aria-label="Permalink to &quot;Alert Rule Configuration&quot;">​</a></h1><p><strong>Before configuring alert rules, set up notification methods and group them into notification groups. Alert rules send notifications at the group level.</strong></p><hr><h3 id="basic-rules" tabindex="-1">Basic Rules <a class="header-anchor" href="#basic-rules" aria-label="Permalink to &quot;Basic Rules&quot;">​</a></h3><ul><li><strong><code>type</code></strong>: Select one or more types. All selected types <strong>must be satisfied</strong> to trigger a notification. <ul><li><strong>Resource Types</strong>: <code>cpu</code>, <code>gpu</code>, <code>memory</code>, <code>swap</code>, <code>disk</code></li><li><strong>Network Types</strong>: <code>net_in_speed</code>, <code>net_out_speed</code>, <code>net_all_speed</code>, <code>transfer_in</code>, <code>transfer_out</code>, <code>transfer_all</code></li><li><strong>System Types</strong>: <code>offline</code>, <code>load1</code>, <code>load5</code>, <code>load15</code>, <code>process_count</code></li><li><strong>Connection Counts</strong>: <code>tcp_conn_count</code>, <code>udp_conn_count</code></li><li><strong>Temperature</strong>: <code>temperature_max</code> (maximum temperature)</li></ul></li><li><strong><code>duration</code></strong>: Duration in seconds. Alerts are triggered if the condition persists for this duration with at least 30% of the data satisfying the threshold.</li><li><strong><code>min</code> / <code>max</code></strong>: <ul><li>Bandwidth and traffic are measured in bytes (1KB = 1024B, 1MB = 1024*1024B).</li><li>Memory, disk, and CPU usage are measured as percentages (0-100).</li><li>Offline monitoring does not require these fields.</li></ul></li><li><strong><code>cover</code></strong>: <ul><li><code>0</code>: Monitor all servers, exclude specific ones with <code>ignore</code>.</li><li><code>1</code>: Ignore all servers, include specific ones with <code>ignore</code>.</li></ul></li><li><strong><code>ignore</code></strong>: Specifies servers to exclude or include for monitoring, in the format <code>{ServerID: true/false}</code>.</li></ul><hr><h3 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h3><h4 id="offline-notification" tabindex="-1">Offline Notification <a class="header-anchor" href="#offline-notification" aria-label="Permalink to &quot;Offline Notification&quot;">​</a></h4><ul><li><strong>Name</strong>: Offline Alert</li><li><strong>Rule</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;offline&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}]</span></span></code></pre></div></li><li><strong>Enabled</strong>: √</li></ul><h4 id="cpu-and-memory-monitoring" tabindex="-1">CPU and Memory Monitoring <a class="header-anchor" href="#cpu-and-memory-monitoring" aria-label="Permalink to &quot;CPU and Memory Monitoring&quot;">​</a></h4><ul><li><strong>Name</strong>: CPU + Memory Alert</li><li><strong>Rule</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cpu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;min&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;memory&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;min&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><strong>Enabled</strong>: √</li></ul><h4 id="specific-server-notifications-to-groups" tabindex="-1">Specific Server Notifications to Groups <a class="header-anchor" href="#specific-server-notifications-to-groups" aria-label="Permalink to &quot;Specific Server Notifications to Groups&quot;">​</a></h4><p><strong>Scenario</strong>: Notify group A when servers 1 and 2 are offline for 10 minutes. Notify group B for servers 3 and 4.</p><ul><li><p><strong>Rule for Group A</strong>:</p><ul><li><strong>Name</strong>: Alert for 1, 2</li><li><strong>Rule</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;offline&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;cover&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;ignore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}]</span></span></code></pre></div></li><li><strong>Notification Group</strong>: A</li><li><strong>Enabled</strong>: √</li></ul></li><li><p><strong>Rule for Group B</strong>:</p><ul><li><strong>Name</strong>: Alert for 3, 4</li><li><strong>Rule</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;offline&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">600</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;cover&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;ignore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}]</span></span></code></pre></div></li><li><strong>Notification Group</strong>: B</li><li><strong>Enabled</strong>: √</li></ul></li></ul><hr><h3 id="special-rules-periodic-traffic-alerts" tabindex="-1">Special Rules: Periodic Traffic Alerts <a class="header-anchor" href="#special-rules-periodic-traffic-alerts" aria-label="Permalink to &quot;Special Rules: Periodic Traffic Alerts&quot;">​</a></h3><p>Useful for monitoring monthly traffic.</p><ul><li><strong><code>type</code></strong>: <ul><li><code>transfer_in_cycle</code>: Periodic inbound traffic.</li><li><code>transfer_out_cycle</code>: Periodic outbound traffic.</li><li><code>transfer_all_cycle</code>: Combined inbound and outbound traffic.</li></ul></li><li><strong><code>cycle_start</code></strong>: Start date of the cycle (RFC3339 format, e.g., <code>2022-01-01T00:00:00+08:00</code>).</li><li><strong><code>cycle_interval</code></strong>: Cycle interval in units (e.g., 1 month).</li><li><strong><code>cycle_unit</code></strong>: Unit of the cycle (<code>hour</code>, <code>day</code>, <code>week</code>, <code>month</code>, <code>year</code>).</li><li><strong><code>min</code> / <code>max</code>, <code>cover</code>, <code>ignore</code></strong>: Same as basic rules.</li></ul><hr><h4 id="example-monthly-traffic-alert" tabindex="-1">Example: Monthly Traffic Alert <a class="header-anchor" href="#example-monthly-traffic-alert" aria-label="Permalink to &quot;Example: Monthly Traffic Alert&quot;">​</a></h4><ul><li><strong>Rule</strong>:<div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;transfer_out_cycle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1099511627776</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Cycle_start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2022-01-01T00:00:00+08:00&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Cycle_interval&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Cycle_unit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;month&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Cover&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Ignore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div></li><li><strong>Explanation</strong>: Sends an alert when the outbound traffic of servers 3 and 4 exceeds 1TB in a monthly cycle starting on the 1st.</li></ul><hr><h3 id="notification-trigger-modes" tabindex="-1">Notification Trigger Modes <a class="header-anchor" href="#notification-trigger-modes" aria-label="Permalink to &quot;Notification Trigger Modes&quot;">​</a></h3><ul><li><strong>Always</strong>: Sends notifications whenever the Agent reports a state satisfying the alert rule.</li><li><strong>Once</strong>: Sends notifications only when the state changes (e.g., normal to abnormal, or abnormal to normal).</li></ul><hr><h3 id="execute-tasks-on-notification" tabindex="-1">Execute Tasks on Notification <a class="header-anchor" href="#execute-tasks-on-notification" aria-label="Permalink to &quot;Execute Tasks on Notification&quot;">​</a></h3><p>To execute tasks when a notification is triggered:</p><ul><li><strong>Always Execute</strong>: Executes the specified task when the state changes from &quot;normal&quot; to &quot;alert&quot;.</li><li><strong>Execute Once</strong>: Executes the specified task when the state changes from &quot;alert&quot; to &quot;normal&quot;.</li></ul>`,50),o=[n];function l(r,h,d,p,k,c){return t(),s("div",null,o)}const E=i(e,[["render",l]]);export{u as __pageData,E as default};
