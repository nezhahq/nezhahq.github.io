---
outline: deep
---
# 内网穿透功能配置

哪吒服务器监控提供内置的内网穿透功能，允许用户通过设定 Dashboard 作为服务端，将运行在 Agent 上的内网服务（如家庭 OpenWrt 路由器、NAS 设备等）映射到公网上，便于外部访问。目前仅支持明文 HTTP 的穿透。

## 准备工作

在配置内网穿透前，请确保完成以下准备工作：

- 确认已在您的设备上安装并运行哪吒监控的 Agent，并保持其与 Dashboard 的连接状态。
- 准备一个公网域名，推荐使用子域名进行操作，如`service-1.example.com`。将此域名解析指向 Dashboard 服务器的公网 IP 地址。
- 请注意，一个域名只能映射到一个 Agent 的内网服务。若需映射多个服务，请分别使用不同的域名，例如 `service-2.example.com`。

::: warning
如果您的 Dashboard 服务器使用宝塔面板或其他管理工具，请确保所用域名，如 `service-1.example.com` 已在该面板中正确绑定至 Dashboard 站点，否则可能导致无法访问。
:::

## 内网穿透配置步骤

1. 登录至 Dashboard 管理页面，选择菜单栏中的“内网穿透”选项。
2. 点击“添加”按钮，并填写以下所需信息：
   - **穿透名称**：为此穿透配置自定义一个名称，如`OpenWrt 登录页`。
   - **Agent ID**：填写需要进行穿透的 Agent 的 ID。
   - **内网服务地址**：填写需穿透的内网服务地址，格式为 `IP:端口`，例如 `127.0.0.1:80`。
   - **绑定域名**：填写已准备的公网域名，如 `service-1.example.com`。如果面板使用了非标准端口访问（比如默认的 `8008`），需要手动添加才可以生效。
3. 完成填写后，点击“新增”按钮，等待穿透生效。
4. 尝试访问 `http://service-1.example.com`，以验证是否成功映射至 Agent 上的内网服务。

## 使用须知

- 保持 Agent 与 Dashboard 之间的连接是内网穿透功能正常运作的前提。若 Agent 连接中断，已配置的穿透将暂时失效。
- 考虑到内网穿透隧道本身不加密数据，建议在 Agent 与 Dashboard 之间以及 Dashboard 与客户端浏览器之间均**使用 TLS/SSL**，以确保数据传输过程的安全性。
